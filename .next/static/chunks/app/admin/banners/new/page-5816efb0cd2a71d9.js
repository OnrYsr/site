(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9143],{149:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var r=t(5155),s=t(2115),n=t(7550),l=t(4229),i=t(6874),d=t.n(i),m=t(5695);function c(){let e=(0,m.useRouter)(),[a,t]=(0,s.useState)({title:"",subtitle:"",image:"",link:"",type:"HERO",order:0,isActive:!0,startDate:"",endDate:""}),[i,c]=(0,s.useState)(!1),[o,u]=(0,s.useState)(""),h=e=>{let{name:a,value:r,type:s}=e.target;t(t=>({...t,[a]:"checkbox"===s&&"checked"in e.target?e.target.checked:"number"===s?Number(r):r}))},x=async t=>{t.preventDefault(),c(!0),u("");try{if(!a.title.trim())throw Error("Banner başlığı gereklidir");if(!a.image.trim())throw Error("Banner g\xf6rseli gereklidir");if(a.order<0)throw Error("Sıralama değeri 0 veya daha b\xfcy\xfck olmalıdır");if(a.startDate&&a.endDate){let e=new Date(a.startDate),t=new Date(a.endDate);if(e>=t)throw Error("Başlangı\xe7 tarihi bitiş tarihinden \xf6nce olmalıdır")}let t={title:a.title.trim(),subtitle:a.subtitle.trim()||null,image:a.image.trim(),link:a.link.trim()||null,type:a.type,order:a.order,isActive:a.isActive,startDate:a.startDate||null,endDate:a.endDate||null},r=await fetch("/api/banners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await r.json();s.success?e.push("/admin/banners"):u(s.error||"Banner oluşturulurken hata oluştu")}catch(e){console.error("Banner creation error:",e),u(e instanceof Error?e.message:"Banner oluşturulurken hata oluştu")}finally{c(!1)}};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Yeni Banner Ekle"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"Site ana sayfası i\xe7in banner oluşturun"})]}),(0,r.jsxs)(d(),{href:"/admin/banners",className:"flex items-center gap-2 text-blue-600 hover:underline",children:[(0,r.jsx)(n.A,{className:"w-4 h-4"}),"Geri"]})]}),(0,r.jsxs)("form",{onSubmit:x,className:"bg-white rounded-xl shadow p-8 max-w-2xl mx-auto space-y-6",children:[o&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-red-600 text-sm",children:o})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Başlığı *"}),(0,r.jsx)("input",{type:"text",id:"title",name:"title",value:a.title,onChange:h,required:!0,className:"admin-input",placeholder:"Banner başlığı"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"subtitle",className:"block text-sm font-medium text-gray-700 mb-2",children:"Alt Başlık"}),(0,r.jsx)("input",{type:"text",id:"subtitle",name:"subtitle",value:a.subtitle,onChange:h,className:"admin-input",placeholder:"Banner alt başlığı (opsiyonel)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Banner Tipi *"}),(0,r.jsxs)("select",{id:"type",name:"type",value:a.type,onChange:h,required:!0,className:"admin-input",children:[(0,r.jsx)("option",{value:"HERO",children:"Ana Sayfa Banner'ı"}),(0,r.jsx)("option",{value:"FEATURED_PRODUCTS",children:"\xd6ne \xc7ıkan \xdcr\xfcnler Banner'ı"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Banner'ın hangi alanda g\xf6sterileceğini se\xe7in"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-2",children:"G\xf6rsel URL *"}),(0,r.jsx)("input",{type:"url",id:"image",name:"image",value:a.image,onChange:h,required:!0,className:"admin-input",placeholder:"https://example.com/banner-image.jpg"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Banner g\xf6rseli i\xe7in ge\xe7erli bir URL girin"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-2",children:"Link URL"}),(0,r.jsx)("input",{type:"url",id:"link",name:"link",value:a.link,onChange:h,className:"admin-input",placeholder:"https://example.com/target-page (opsiyonel)"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Banner tıklandığında y\xf6nlendirilecek sayfa"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"order",className:"block text-sm font-medium text-gray-700 mb-2",children:"Sıralama"}),(0,r.jsx)("input",{type:"number",id:"order",name:"order",value:a.order,onChange:h,min:"0",className:"admin-input",placeholder:"0"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"D\xfcş\xfck sayılar \xf6nce g\xf6sterilir"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Başlangı\xe7 Tarihi"}),(0,r.jsx)("input",{type:"date",id:"startDate",name:"startDate",value:a.startDate,onChange:h,className:"admin-input"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bitiş Tarihi"}),(0,r.jsx)("input",{type:"date",id:"endDate",name:"endDate",value:a.endDate,onChange:h,className:"admin-input"})]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Tarih aralığı belirtilmezse banner s\xfcrekli aktif olur"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"isActive",name:"isActive",checked:a.isActive,onChange:h,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"isActive",className:"text-sm text-gray-700",children:"Banner aktif"})]}),a.image&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xd6nizleme"}),(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:(0,r.jsx)("img",{src:a.image,alt:"Banner \xf6nizleme",className:"max-w-full h-32 object-cover rounded",onError:e=>{e.target.style.display="none"}})})]}),(0,r.jsx)("button",{type:"submit",disabled:i,className:"w-full py-3 px-6 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2 ".concat(i?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Oluşturuluyor..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{className:"w-5 h-5"}),"Banner Oluştur"]})})]})]})}},2421:(e,a,t)=>{Promise.resolve().then(t.bind(t,149))},4229:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},7550:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[95,8441,9303,7358],()=>a(2421)),_N_E=e.O()}]);